montageDefine("663b209","ui/code-mirror.reel/codemirror/codemirror-min",{dependencies:[],factory:function(t,e){var n=e.CodeMirror=function(){function t(o,u){function v(t){return t>=0&&Jn.size>t}function b(t){return f(Jn,t)}function T(t,e){si=!0;for(var n=e-t.height,i=t;i;i=i.parent)i.height+=n}function z(t){var e={line:0,ch:0};le(e,{line:Jn.size-1,ch:b(Jn.size-1).text.length},X(t),e,e),ni=!0}function j(){var t=[];return Jn.iter(0,Jn.size,function(e){t.push(e.text)}),t.join("\n")}function P(t){function e(t){var n=gn(t,!0);if(n&&!E(n,l)){Yn||re(),l=n,Ne(i,n),ni=!1;var r=Me();(n.line>=r.to||n.line<r.from)&&(o=setTimeout(zn(function(){e(t)}),150))}}Ee(t.shiftKey);for(var n=w(t);n!=Dn;n=n.parentNode)if(n.parentNode==_n&&n!=In)return;for(var n=w(t);n!=Dn;n=n.parentNode)if(n.parentNode==Pn)return An.onGutterClick&&An.onGutterClick(wi,O(Pn.childNodes,n)+mi,t),x(t);var i=gn(t);switch(C(t)){case 3:return V&&!I&&vn(t),void 0;case 2:return i&&He(i.line,i.ch,!0),void 0}if(!i)return w(t)==On&&x(t),void 0;Yn||re();var r=+new Date;if(ti&&ti.time>r-400&&E(ti.pos,i))return x(t),setTimeout(be,20),Re(i.line);if(Qn&&Qn.time>r-400&&E(Qn.pos,i))return ti={time:r,pos:i},x(t),Be(i);Qn={time:r,pos:i};var o,l=i;if(q&&!E(fi.from,fi.to)&&!N(i,fi.from)&&!N(fi.to,i)){G&&(Un.draggable=!0);var a=M(Nn,"mouseup",zn(function(e){G&&(Un.draggable=!1),ei=!1,a(),10>Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)&&(x(e),He(i.line,i.ch,!0),be())}),!0);return ei=!0,void 0}x(t),He(i.line,i.ch,!0);var s=M(Nn,"mousemove",zn(function(t){clearTimeout(o),x(t),e(t)}),!0),a=M(Nn,"mouseup",zn(function(t){clearTimeout(o);var e=gn(t);e&&Ne(i,e),x(t),be(),ni=!0,s(),a()}),!0)}function K(t){for(var e=w(t);e!=Dn;e=e.parentNode)if(e.parentNode==Pn)return x(t);var n=gn(t);n&&(ti={time:+new Date,pos:n},x(t),Be(n))}function Z(t){function e(t,e){var i=new FileReader;i.onload=function(){o[e]=i.result,++l==r&&(n=_e(n),zn(function(){var t=he(o.join(""),n,n);Ne(n,t)})())},i.readAsText(t)}t.preventDefault();var n=gn(t,!0),i=t.dataTransfer.files;if(n&&!An.readOnly)if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),l=0,a=0;r>a;++a)e(i[a],a);else try{var o=t.dataTransfer.getData("Text");if(o){var s=he(o,n,n),u=fi.from,c=fi.to;Ne(n,s),ei&&he("",u,c),be()}}catch(t){}}function Q(t){var e=me();W(e),t.dataTransfer.setDragImage(Y,0,0),t.dataTransfer.setData("Text",e)}function te(t){var i,r,o=J[t.keyCode],l=R[An.keyMap].auto;if(null==o||t.altGraphKey)return l&&(An.keyMap=l),null;if(t.altKey&&(o="Alt-"+o),t.ctrlKey&&(o="Ctrl-"+o),t.metaKey&&(o="Cmd-"+o),t.shiftKey&&(i=e("Shift-"+o,An.extraKeys,An.keyMap))?r=!0:i=e(o,An.extraKeys,An.keyMap),"string"==typeof i&&(i=B.propertyIsEnumerable(i)?B[i]:null),l&&(i||!n(t))&&(An.keyMap=l),!i)return!1;if(r){var a=Zn;Zn=null,i(wi),Zn=a}else i(wi);return x(t),!0}function ee(t){Yn||re();var e=t.keyCode;if(F&&27==e&&(t.returnValue=!1),Ee(16==e||t.shiftKey),!An.onKeyEvent||!An.onKeyEvent(wi,y(t))){var n=te(t);window.opera&&(Ci=n?t.keyCode:null,!n&&(I?t.metaKey:t.ctrlKey)&&88==t.keyCode&&fe(""))}}function ne(t){if(window.opera&&t.keyCode==Ci)return Ci=null,x(t),void 0;if(!(An.onKeyEvent&&An.onKeyEvent(wi,y(t))||window.opera&&!t.which&&te(t))){if(An.electricChars&&Gn.electricChars){var e=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode);Gn.electricChars.indexOf(e)>-1&&setTimeout(zn(function(){Ve(fi.to.line,"smart")}),75)}ve()}}function ie(t){An.onKeyEvent&&An.onKeyEvent(wi,y(t))||16==t.keyCode&&(Zn=null)}function re(){An.readOnly||(Yn||(An.onFocus&&An.onFocus(wi),Yn=!0,-1==Dn.className.search(/\bCodeMirror-focused\b/)&&(Dn.className+=" CodeMirror-focused"),ai||xe(!0)),ge(),yn())}function oe(){Yn&&(An.onBlur&&An.onBlur(wi),Yn=!1,Dn.className=Dn.className.replace(" CodeMirror-focused","")),clearInterval(Fn),setTimeout(function(){Yn||(Zn=null)},150)}function le(t,e,n,i,r){if(bi){var o=[];for(Jn.iter(t.line,e.line+1,function(t){o.push(t.text)}),bi.addChange(t.line,n.length,o);bi.done.length>An.undoDepth;)bi.done.shift()}ce(t,e,n,i,r)}function ae(t,e){var n=t.pop();if(n){var i=[],r=n.start+n.added;Jn.iter(n.start,r,function(t){i.push(t.text)}),e.push({start:n.start,added:n.old.length,old:i});var o=_e({line:n.start+n.old.length-1,ch:H(i[i.length-1],n.old[n.old.length-1])});ce({line:n.start,ch:0},{line:r-1,ch:b(r-1).text.length},n.old,o,o),ni=!0}}function se(){ae(bi.done,bi.undone)}function ue(){ae(bi.undone,bi.done)}function ce(t,e,n,i,r){function o(t){return Math.min(e.line,e.line+y)>=t?t:t+y}var l=!1,a=yi.length;An.lineWrapping||Jn.iter(t.line,e.line,function(t){return t.text.length==a?(l=!0,!0):void 0}),(t.line!=e.line||n.length>1)&&(si=!0);var u=e.line-t.line,c=b(t.line),h=b(e.line);if(0==t.ch&&0==e.ch&&""==n[n.length-1]){var f=[],d=null;t.line?(d=b(t.line-1),d.fixMarkEnds(h)):h.fixMarkStarts();for(var p=0,m=n.length-1;m>p;++p)f.push(s.inheritMarks(n[p],d));u&&Jn.remove(t.line,u,ui),f.length&&Jn.insert(t.line,f)}else if(c==h)if(1==n.length)c.replace(t.ch,e.ch,n[0]);else{h=c.split(e.ch,n[n.length-1]),c.replace(t.ch,null,n[0]),c.fixMarkEnds(h);for(var f=[],p=1,m=n.length-1;m>p;++p)f.push(s.inheritMarks(n[p],c));f.push(h),Jn.insert(t.line+1,f)}else if(1==n.length)c.replace(t.ch,null,n[0]),h.replace(null,e.ch,""),c.append(h),Jn.remove(t.line+1,u,ui);else{var f=[];c.replace(t.ch,null,n[0]),h.replace(null,e.ch,n[n.length-1]),c.fixMarkEnds(h);for(var p=1,m=n.length-1;m>p;++p)f.push(s.inheritMarks(n[p],c));u>1&&Jn.remove(t.line+1,u-1,ui),Jn.insert(t.line+1,f)}if(An.lineWrapping){var g=On.clientWidth/dn()-3;Jn.iter(t.line,t.line+n.length,function(t){if(!t.hidden){var e=Math.ceil(t.text.length/g)||1;e!=t.height&&T(t,e)}})}else Jn.iter(t.line,p+n.length,function(t){var e=t.text;e.length>a&&(yi=e,a=e.length,hi=null,l=!1)}),l&&(a=0,yi="",hi=null,Jn.iter(0,Jn.size,function(t){var e=t.text;e.length>a&&(a=e.length,yi=e)}));for(var v=[],y=n.length-u-1,p=0,x=Kn.length;x>p;++p){var k=Kn[p];t.line>k?v.push(k):k>e.line&&v.push(k+y)}var w=t.line+Math.min(n.length,500);wn(t.line,w),v.push(w),Kn=v,Mn(100),ri.push({from:t.line,to:e.line+1,diff:y});var C={from:t,to:e,text:n};if(oi){for(var M=oi;M.next;M=M.next);M.next=C}else oi=C;De(i,r,o(fi.from.line),o(fi.to.line)),_n.style.height=Jn.height*fn()+2*pn()+"px"}function he(t,e,n){function i(i){if(N(i,e))return i;if(!N(n,i))return r;var o=i.line+t.length-(n.line-e.line)-1,l=i.ch;return i.line==n.line&&(l+=t[t.length-1].length-(n.ch-(n.line==e.line?e.ch:0))),{line:o,ch:l}}e=_e(e),n=n?_e(n):e,t=X(t);var r;return de(t,e,n,function(t){return r=t,{from:i(fi.from),to:i(fi.to)}}),r}function fe(t,e){de(X(t),fi.from,fi.to,function(t){return"end"==e?{from:t,to:t}:"start"==e?{from:fi.from,to:fi.from}:{from:fi.from,to:t}})}function de(t,e,n,i){var r=1==t.length?t[0].length+e.ch:t[t.length-1].length,o=i({line:e.line+t.length-1,ch:r});le(e,n,t,o.from,o.to)}function pe(t,e){var n=t.line,i=e.line;if(n==i)return b(n).text.slice(t.ch,e.ch);var r=[b(n).text.slice(t.ch)];return Jn.iter(n+1,i,function(t){r.push(t.text)}),r.push(b(i).text.slice(0,e.ch)),r.join("\n")}function me(){return pe(fi.from,fi.to)}function ge(){Mi||Xn.set(An.pollInterval,function(){Sn(),ye(),Yn&&ge(),Tn()})}function ve(){function t(){Sn();var n=ye();n||e?(Mi=!1,ge()):(e=!0,Xn.set(60,t)),Tn()}var e=!1;Mi=!0,Xn.set(20,t)}function ye(){if(ai||!Yn||$(Hn))return!1;var t=Hn.value;if(t==Si)return!1;Zn=null;for(var e=0,n=Math.min(Si.length,t.length);n>e&&Si[e]==t[e];)++e;return Si.length>e?fi.from={line:fi.from.line,ch:fi.from.ch-(Si.length-e)}:di&&E(fi.from,fi.to)&&(fi.to={line:fi.to.line,ch:Math.min(b(fi.to.line).text.length,fi.to.ch+(t.length-e))}),fe(t.slice(e),"end"),Si=t,!0}function xe(t){E(fi.from,fi.to)?t&&(Si=Hn.value=""):(Si="",Hn.value=me(),Hn.select())}function be(){An.readOnly||Hn.focus()}function ke(){if(Rn.getBoundingClientRect){var t=Rn.getBoundingClientRect();if(!F||t.top!=t.bottom){var e=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(0>t.top||t.bottom>e)&&Rn.scrollIntoView()}}}function we(){var t=un(fi.inverted?fi.from:fi.to),e=An.lineWrapping?Math.min(t.x,Un.offsetWidth):t.x;return Ce(e,t.y,e,t.yBot)}function Ce(t,e,n,i){var r=mn(),o=pn(),l=fn();e+=o,i+=o,t+=r,n+=r;var a=On.clientHeight,s=On.scrollTop,u=!1,c=!0;s>e?(On.scrollTop=Math.max(0,e-2*l),u=!0):i>s+a&&(On.scrollTop=i+l-a,u=!0);var h=On.clientWidth,f=On.scrollLeft,d=An.fixedGutter?jn.clientWidth:0;return f+d>t?(50>t&&(t=0),On.scrollLeft=Math.max(0,t-10-d),u=!0):n>h+f-3&&(On.scrollLeft=n+10-h,u=!0,n>_n.clientWidth&&(c=!1)),u&&An.onScroll&&An.onScroll(wi),c}function Me(){var t=fn(),e=On.scrollTop-pn(),n=Math.max(0,Math.floor(e/t)),i=Math.ceil((e+On.clientHeight)/t);return{from:p(Jn,n),to:p(Jn,i)}}function Se(t,e){if(!On.clientWidth)return mi=gi=pi=0,void 0;var n=Me();if(!(t!==!0&&0==t.length&&n.from>=mi&&gi>=n.to)){var i=Math.max(n.from-100,0),r=Math.min(Jn.size,n.to+100);i>mi&&20>i-mi&&(i=mi),gi>r&&20>gi-r&&(r=Math.min(Jn.size,gi));for(var o=t===!0?[]:Te([{from:mi,to:gi,domStart:0}],t),l=0,a=0;o.length>a;++a){var s=o[a];i>s.from&&(s.domStart+=i-s.from,s.from=i),s.to>r&&(s.to=r),s.from>=s.to?o.splice(a--,1):l+=s.to-s.from}if(l!=r-i){o.sort(function(t,e){return t.domStart-e.domStart});var u=fn(),c=jn.style.display;qn.style.display=jn.style.display="none",ze(i,r,o),qn.style.display="";var h=i!=mi||r!=gi||vi!=On.clientHeight+u;if(h&&(vi=On.clientHeight+u),mi=i,gi=r,pi=m(Jn,i),In.style.top=pi*u+"px",_n.style.height=Jn.height*u+2*pn()+"px",qn.childNodes.length!=gi-mi)throw Error("BAD PATCH! "+JSON.stringify(o)+" size="+(gi-mi)+" nodes="+qn.childNodes.length);if(An.lineWrapping){hi=On.clientWidth;var f=qn.firstChild;Jn.iter(mi,gi,function(t){if(!t.hidden){var e=Math.round(f.offsetHeight/u)||1;t.height!=e&&(T(t,e),si=!0)}f=f.nextSibling})}else null==hi&&(hi=an(yi)),hi>On.clientWidth?(Un.style.width=hi+"px",_n.style.width="",_n.style.width=On.scrollWidth+"px"):Un.style.width=_n.style.width="";return jn.style.display=c,(h||si)&&Ae(),Le(),!e&&An.onUpdate&&An.onUpdate(wi),!0}}}function Te(t,e){for(var n=0,i=e.length||0;i>n;++n){for(var r=e[n],o=[],l=r.diff||0,a=0,s=t.length;s>a;++a){var u=t[a];r.to<=u.from&&r.diff?o.push({from:u.from+l,to:u.to+l,domStart:u.domStart}):r.to<=u.from||r.from>=u.to?o.push(u):(r.from>u.from&&o.push({from:u.from,to:r.from,domStart:u.domStart}),r.to<u.to&&o.push({from:r.to+l,to:u.to+l,domStart:u.domStart+(r.to-u.from)}))}t=o}return t}function ze(t,e,n){function i(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}if(n.length){for(var r=0,o=qn.firstChild,l=0;n.length>l;++l){for(var a=n[l];a.domStart>r;)o=i(o),r++;for(var s=0,u=a.to-a.from;u>s;++s)o=o.nextSibling,r++}for(;o;)o=i(o)}else qn.innerHTML="";var c=n.shift(),o=qn.firstChild,s=t,h=fi.from.line,f=fi.to.line,d=t>h&&f>=t,p=Nn.createElement("div");Jn.iter(t,e,function(t){var e=null,i=null;d?(e=0,f==s&&(d=!1,i=fi.to.ch)):h==s&&(f==s?(e=fi.from.ch,i=fi.to.ch):(d=!0,e=fi.from.ch)),c&&c.to==s&&(c=n.shift()),!c||c.from>s?(p.innerHTML=t.hidden?"<pre></pre>":t.getHTML(e,i,!0,xi),qn.insertBefore(p.firstChild,o)):o=o.nextSibling,++s})}function Ae(){if(An.gutter||An.lineNumbers){var t=In.offsetHeight,e=On.clientHeight;jn.style.height=(2>t-e?e:t)+"px";var n=[],i=mi;Jn.iter(mi,Math.max(gi,mi+1),function(t){if(t.hidden)n.push("<pre></pre>");else{var e=t.gutterMarker,r=An.lineNumbers?i+An.firstLineNumber:null;e&&e.text?r=e.text.replace("%N%",null!=r?r:""):null==r&&(r=" "),n.push(e&&e.style?'<pre class="'+e.style+'">':"<pre>",r);for(var o=1;t.height>o;++o)n.push("<br/>&#160;");n.push("</pre>")}++i}),jn.style.display="none",Pn.innerHTML=n.join("");for(var r=(Jn.size+"").length,o=Pn.firstChild,l=L(o),a="";r>l.length+a.length;)a+=" ";a&&o.insertBefore(Nn.createTextNode(a),o.firstChild),jn.style.display="",Un.style.marginLeft=jn.offsetWidth+"px",si=!1}}function Le(){var t=fi.inverted?fi.from:fi.to,e=(fn(),un(t,!0)),n=A(Dn),i=A(qn);Wn.style.top=e.y+i.top-n.top+"px",Wn.style.left=e.x+i.left-n.left+"px",E(fi.from,fi.to)?(Rn.style.top=e.y+"px",Rn.style.left=(An.lineWrapping?Math.min(e.x,Un.offsetWidth):e.x)+"px",Rn.style.display=""):Rn.style.display="none"}function Ee(t){Zn=t?Zn||(fi.inverted?fi.to:fi.from):null}function Ne(t,e){var n=Zn&&_e(Zn);n&&(N(n,t)?t=n:N(e,n)&&(e=n)),De(t,e),ii=!0}function De(t,e,n,i){if(Ti=null,null==n&&(n=fi.from.line,i=fi.to.line),!E(fi.from,t)||!E(fi.to,e)){if(N(e,t)){var r=e;e=t,t=r}t.line!=n&&(t=We(t,n,fi.from.ch)),e.line!=i&&(e=We(e,i,fi.to.ch)),E(t,e)?fi.inverted=!1:E(t,fi.to)?fi.inverted=!1:E(e,fi.from)&&(fi.inverted=!0),E(t,e)?E(fi.from,fi.to)||ri.push({from:n,to:i+1}):E(fi.from,fi.to)?ri.push({from:t.line,to:e.line+1}):(E(t,fi.from)||(n>t.line?ri.push({from:t.line,to:Math.min(e.line,n)+1}):ri.push({from:n,to:Math.min(i,t.line)+1})),E(e,fi.to)||(i>e.line?ri.push({from:Math.max(n,t.line),to:i+1}):ri.push({from:Math.max(t.line,i),to:e.line+1}))),fi.from=t,fi.to=e,li=!0}}function We(t,e,n){function i(e){for(var i=t.line+e,r=1==e?Jn.size:-1;i!=r;){var o=b(i);if(!o.hidden){var l=t.ch;return(l>n||l>o.text.length)&&(l=o.text.length),{line:i,ch:l}}i+=e}}var r=b(t.line);return r.hidden?t.line>=e?i(1)||i(-1):i(-1)||i(1):t}function He(t,e,n){var i=_e({line:t,ch:e||0});(n?Ne:De)(i,i)}function Oe(t){return Math.max(0,Math.min(t,Jn.size-1))}function _e(t){if(0>t.line)return{line:0,ch:0};if(t.line>=Jn.size)return{line:Jn.size-1,ch:b(Jn.size-1).text.length};var e=t.ch,n=b(t.line).text.length;return null==e||e>n?{line:t.line,ch:n}:0>e?{line:t.line,ch:0}:t}function Ie(t,e){function n(){for(var e=o+t,n=0>t?-1:Jn.size;e!=n;e+=t){var i=b(e);if(!i.hidden)return o=e,a=i,!0}}function i(e){if(l==(0>t?0:a.text.length)){if(e||!n())return!1;l=0>t?a.text.length:0}else l+=t;return!0}var r=fi.inverted?fi.from:fi.to,o=r.line,l=r.ch,a=b(o);if("char"==e)i();else if("column"==e)i(!0);else if("word"==e)for(var s=!1;!(0>t)||i();){if(_(a.text.charAt(l)))s=!0;else if(s){0>t&&(t=1,i());break}if(t>0&&!i())break}return{line:o,ch:l}}function je(t,e){var n=0>t?fi.from:fi.to;(Zn||E(fi.from,fi.to))&&(n=Ie(t,e)),He(n.line,n.ch,!0)}function Pe(t,e){E(fi.from,fi.to)?0>t?he("",Ie(t,e),fi.to):he("",fi.from,Ie(t,e)):he("",fi.from,fi.to),ii=!0}function Ue(t,e){var n=0,i=un(fi.inverted?fi.from:fi.to,!0);null!=Ti&&(i.x=Ti),"page"==e?n=On.clientHeight:"line"==e&&(n=fn());var r=cn(i.x,i.y+n*t+2);He(r.line,r.ch,!0),Ti=i.x}function Be(t){for(var e=b(t.line).text,n=t.ch,i=t.ch;n>0&&_(e.charAt(n-1));)--n;for(;e.length>i&&_(e.charAt(i));)++i;Ne({line:t.line,ch:n},{line:t.line,ch:i})}function Re(t){Ne({line:t,ch:0},{line:t,ch:b(t).text.length})}function qe(t){if(E(fi.from,fi.to))return Ve(fi.from.line,t);for(var e=fi.to.line-(fi.to.ch?0:1),n=fi.from.line;e>=n;++n)Ve(n,t)}function Ve(t,e){if(e||(e="add"),"smart"==e)if(Gn.indent)var n=kn(t);else e="prev";var i,r=b(t),o=r.indentation(An.tabSize),l=r.text.match(/^\s*/)[0];"prev"==e?i=t?b(t-1).indentation(An.tabSize):0:"smart"==e?i=Gn.indent(n,r.text.slice(l.length),r.text):"add"==e?i=o+An.indentUnit:"subtract"==e&&(i=o-An.indentUnit),i=Math.max(0,i);var a=i-o;if(a){var s="",u=0;if(An.indentWithTabs)for(var c=Math.floor(i/An.tabSize);c;--c)u+=An.tabSize,s+="	";for(;i>u;)++u,s+=" "}else{if(fi.from.line!=t&&fi.to.line!=t)return;var s=l}he(s,{line:t,ch:0},{line:t,ch:l.length})}function Fe(){Gn=t.getMode(An,An.mode),Jn.iter(0,Jn.size,function(t){t.stateAfter=null}),Kn=[0],Mn()}function Ge(){var t=An.gutter||An.lineNumbers;jn.style.display=t?"":"none",t?si=!0:qn.parentNode.style.marginLeft=0}function Ke(){if(An.lineWrapping){Dn.className+=" CodeMirror-wrap";var t=On.clientWidth/dn()-3;Jn.iter(0,Jn.size,function(e){if(!e.hidden){var n=Math.ceil(e.text.length/t)||1;1!=n&&T(e,n)}}),Un.style.width=_n.style.width=""}else Dn.className=Dn.className.replace(" CodeMirror-wrap",""),hi=null,yi="",Jn.iter(0,Jn.size,function(t){1!=t.height&&!t.hidden&&T(t,1),t.text.length>yi.length&&(yi=t.text)});ri.push({from:0,to:Jn.size})}function Ye(){for(var t='<span class="cm-tab">',e=0;An.tabSize>e;++e)t+=" ";return t+"</span>"}function Xe(){xi=Ye(),Se(!0)}function $e(){On.className=On.className.replace(/\s*cm-s-\w+/g,"")+An.theme.replace(/(^|\s)\s*/g," cm-s-")}function Je(){this.set=[]}function Ze(t,e,n){function i(t,e,n,i){b(t).addMark(new l(e,n,i,r.set))}t=_e(t),e=_e(e);var r=new Je;if(t.line==e.line)i(t.line,t.ch,e.ch,n);else{i(t.line,t.ch,null,n);for(var o=t.line+1,a=e.line;a>o;++o)i(o,null,null,n);i(e.line,null,e.ch,n)}return ri.push({from:t.line,to:e.line+1}),r}function Qe(t){t=_e(t);var e=new a(t.ch);return b(t.line).addMark(e),e}function tn(t,e,n){return"number"==typeof t&&(t=b(Oe(t))),t.gutterMarker={text:e,style:n},si=!0,t}function en(t){"number"==typeof t&&(t=b(Oe(t))),t.gutterMarker=null,si=!0}function nn(t,e){var n=t,i=t;return"number"==typeof t?i=b(Oe(t)):n=d(t),null==n?null:e(i,n)?(ri.push({from:n,to:n+1}),i):null}function rn(t,e){return nn(t,function(t){return t.className!=e?(t.className=e,!0):void 0})}function on(t,e){return nn(t,function(t,n){return t.hidden!=e?(t.hidden=e,T(t,e?0:1),e&&(fi.from.line==n||fi.to.line==n)&&De(We(fi.from,fi.from.line,fi.from.ch),We(fi.to,fi.to.line,fi.to.ch)),si=!0):void 0})}function ln(t){if("number"==typeof t){if(!v(t))return null;var e=t;if(t=b(t),!t)return null}else{var e=d(t);if(null==e)return null}var n=t.gutterMarker;return{line:e,handle:t,text:t.text,markerText:n&&n.text,markerClass:n&&n.style,lineClass:t.className}}function an(t){return Bn.innerHTML="<pre><span>x</span></pre>",Bn.firstChild.firstChild.firstChild.nodeValue=t,Bn.firstChild.firstChild.offsetWidth||10}function sn(t,e){var n="";if(An.lineWrapping){var i=t.text.indexOf(" ",e+2);n=W(t.text.slice(e+1,0>i?t.text.length:i+(F?5:0)))}Bn.innerHTML="<pre>"+t.getHTML(null,null,!1,xi,e)+'<span id="CodeMirror-temp-'+Ni+'">'+W(t.text.charAt(e)||" ")+"</span>"+n+"</pre>";var r=document.getElementById("CodeMirror-temp-"+Ni),o=r.offsetTop,l=r.offsetLeft;if(F&&e&&0==o&&0==l){var a=document.createElement("span");a.innerHTML="x",r.parentNode.insertBefore(a,r.nextSibling),o=a.offsetTop}return{top:o,left:l}}function un(t,e){var n,i=fn(),r=i*(m(Jn,t.line)-(e?pi:0));if(0==t.ch)n=0;else{var o=sn(b(t.line),t.ch);n=o.left,An.lineWrapping&&(r+=Math.max(0,o.top))}return{x:n,y:r,yBot:r+i}}function cn(t,e){function n(t){var e=sn(a,t);if(u){var n=Math.round(e.top/i);return Math.max(0,e.left+(n-c)*On.clientWidth)}return e.left}0>e&&(e=0);var i=fn(),r=dn(),o=pi+Math.floor(e/i),l=p(Jn,o);if(l>=Jn.size)return{line:Jn.size-1,ch:b(Jn.size-1).text.length};var a=b(l),s=a.text,u=An.lineWrapping,c=u?o-m(Jn,l):0;if(0>=t&&0==c)return{line:l,ch:0};for(var h,f=0,d=0,g=s.length,v=Math.min(g,Math.ceil((t+.9*c*On.clientWidth)/r));;){var y=n(v);if(!(t>=y&&g>v)){h=y,g=v;break}v=Math.min(g,Math.ceil(1.2*v))}if(t>h)return{line:l,ch:g};for(v=Math.floor(.8*g),y=n(v),t>y&&(f=v,d=y);;){if(1>=g-f)return{line:l,ch:h-t>t-d?f:g};var x=Math.ceil((f+g)/2),k=n(x);k>t?(g=x,h=k):(f=x,d=k)}}function hn(t){var e=un(t,!0),n=A(Un);return{x:n.left+e.x,y:n.top+e.y,yBot:n.top+e.yBot}}function fn(){if(null==Li){Li="<pre>";for(var t=0;49>t;++t)Li+="x<br/>";Li+="x</pre>"}var e=qn.clientHeight;return e==Ai?zi:(Ai=e,Bn.innerHTML=Li,zi=Bn.firstChild.offsetHeight/50||1,Bn.innerHTML="",zi)}function dn(){return On.clientWidth==Di?Ei:(Di=On.clientWidth,Ei=an("x"))}function pn(){return Un.offsetTop}function mn(){return Un.offsetLeft}function gn(t,e){var n,i,r=A(On,!0);try{n=t.clientX,i=t.clientY}catch(t){return null}if(!e&&(n-r.left>On.clientWidth||i-r.top>On.clientHeight))return null;var o=A(Un,!0);return cn(n-o.left,i-o.top)}function vn(t){function e(){var t=X(Hn.value).join("\n");t!=r&&zn(fe)(t,"end"),Wn.style.position="relative",Hn.style.cssText=i,ai=!1,xe(!0),ge()}var n=gn(t);if(n&&!window.opera){(E(fi.from,fi.to)||N(n,fi.from)||!N(n,fi.to))&&zn(He)(n.line,n.ch);var i=Hn.style.cssText;Wn.style.position="absolute",Hn.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: white; "+"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ai=!0;var r=Hn.value=me();if(be(),Hn.select(),V){k(t);var o=M(window,"mouseup",function(){o(),setTimeout(e,20)},!0)}else setTimeout(e,50)}}function yn(){clearInterval(Fn);var t=!0;Rn.style.visibility="",Fn=setInterval(function(){Rn.style.visibility=(t=!t)?"":"hidden"},650)}function xn(t){function e(t,e,n){if(t.text)for(var i,r=t.styles,o=l?0:t.text.length-1,s=l?0:r.length-2,u=l?r.length:-2;s!=u;s+=2*a){var c=r[s];if(null==r[s+1]||r[s+1]==f){for(var h=l?0:c.length-1,m=l?c.length:-1;h!=m;h+=a,o+=a)if(o>=e&&n>o&&p.test(i=c.charAt(h))){var g=Wi[i];if(">"==g.charAt(1)==l)d.push(i);else{if(d.pop()!=g.charAt(0))return{pos:o,match:!1};if(!d.length)return{pos:o,match:!0}}}}else o+=a*c.length}}var n=fi.inverted?fi.from:fi.to,i=b(n.line),r=n.ch-1,o=r>=0&&Wi[i.text.charAt(r)]||Wi[i.text.charAt(++r)];if(o){for(var l=(o.charAt(0),">"==o.charAt(1)),a=l?1:-1,s=i.styles,u=r+1,c=0,h=s.length;h>c;c+=2)if(0>=(u-=s[c].length)){var f=s[c+1];break}for(var d=[i.text.charAt(r)],p=/[(){}[\]]/,c=n.line,h=l?Math.min(c+100,Jn.size):Math.max(-1,c-100);c!=h;c+=a){var i=b(c),m=c==n.line,g=e(i,m&&l?r+1:0,m&&!l?r:i.text.length);if(g)break}g||(g={pos:null,match:!1});var f=g.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",v=Ze({line:n.line,ch:r},{line:n.line,ch:r+1},f),y=null!=g.pos&&Ze({line:c,ch:g.pos},{line:c,ch:g.pos+1},f),x=zn(function(){v.clear(),y&&y.clear()});t?setTimeout(x,800):ci=x}}function bn(t){for(var e,n,i=t,r=t-40;i>r;--i){if(0==i)return 0;var o=b(i-1);if(o.stateAfter)return i;var l=o.indentation(An.tabSize);(null==n||e>l)&&(n=i-1,e=l)}return n}function kn(t){var e=bn(t),n=e&&b(e-1).stateAfter;return n=n?i(Gn,n):r(Gn),Jn.iter(e,t,function(t){t.highlight(Gn,n,An.tabSize),t.stateAfter=i(Gn,n)}),t>e&&ri.push({from:e,to:t}),Jn.size>t&&!b(t).stateAfter&&Kn.push(t),n}function wn(t,e){var n=kn(t);Jn.iter(t,e,function(t){t.highlight(Gn,n,An.tabSize),t.stateAfter=i(Gn,n)})}function Cn(){for(var t=+new Date+An.workTime,e=Kn.length;Kn.length;){if(b(mi).stateAfter)var n=Kn.pop();else var n=mi;if(!(n>=Jn.size)){var o=bn(n),l=o&&b(o-1).stateAfter;l=l?i(Gn,l):r(Gn);var a=0,s=Gn.compareStates,u=!1,c=o,h=!1;if(Jn.iter(c,Jn.size,function(e){var r=e.stateAfter;if(+new Date>t)return Kn.push(c),Mn(An.workDelay),u&&ri.push({from:n,to:c+1}),h=!0;var o=e.highlight(Gn,l,An.tabSize);if(o&&(u=!0),e.stateAfter=i(Gn,l),s){if(r&&s(r,l))return!0}else if(o===!1&&r){if(++a>3&&(!Gn.indent||Gn.indent(r,"")==Gn.indent(l,"")))return!0}else a=0;++c}),h)return;u&&ri.push({from:n,to:c+1})}}e&&An.onHighlightComplete&&An.onHighlightComplete(wi)}function Mn(t){Kn.length&&$n.set(t,zn(Cn))}function Sn(){ni=ii=oi=null,ri=[],li=!1,ui=[]}function Tn(){var t,e=!1;li&&(e=!we()),ri.length?t=Se(ri,!0):(li&&Le(),si&&Ae()),e&&we(),li&&(ke(),yn()),Yn&&!ai&&(ni===!0||ni!==!1&&li)&&xe(ii),li&&An.matchBrackets&&setTimeout(zn(function(){ci&&(ci(),ci=null),E(fi.from,fi.to)&&xn(!1)}),20);var n=oi,i=ui;li&&An.onCursorActivity&&An.onCursorActivity(wi),n&&An.onChange&&wi&&An.onChange(wi,n);for(var r=0;i.length>r;++r)i[r](wi);t&&An.onUpdate&&An.onUpdate(wi)}function zn(t){return function(){Hi++||Sn();try{var e=t.apply(this,arguments)}finally{--Hi||Tn()}return e}}var An={},Ln=t.defaults;for(var En in Ln)Ln.hasOwnProperty(En)&&(An[En]=(u&&u.hasOwnProperty(En)?u:Ln)[En]);var Nn=An.document,Dn=Nn.createElement("div");Dn.className="CodeMirror"+(An.lineWrapping?" CodeMirror-wrap":""),Dn.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden"></div><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>',o.appendChild?o.appendChild(Dn):o(Dn);var Wn=Dn.firstChild,Hn=Wn.firstChild,On=Dn.lastChild,_n=On.firstChild,In=_n.firstChild,jn=In.firstChild,Pn=jn.firstChild,Un=jn.nextSibling.firstChild,Bn=Un.firstChild,Rn=Bn.nextSibling,qn=Rn.nextSibling;$e(),/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)&&(Hn.style.width="0px"),G||(Un.draggable=!0),null!=An.tabindex&&(Hn.tabIndex=An.tabindex),!An.gutter&&!An.lineNumbers&&(jn.style.display="none");try{an("x")}catch(Vn){throw Vn.message.match(/runtime/i)&&(Vn=Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),Vn}var Fn,Gn,Kn,Yn,Xn=new S,$n=new S,Jn=new h([new c([new s("")])]);Fe();var Zn,Qn,ti,ei,ni,ii,ri,oi,li,ai,si,ui,ci,hi,fi={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},di=!1,pi=0,mi=0,gi=0,vi=0,yi="",xi=Ye();zn(function(){z(An.value||""),ni=!1})();var bi=new g;M(On,"mousedown",zn(P)),M(On,"dblclick",zn(K)),M(Un,"dragstart",Q),M(Un,"selectstart",x),V||M(On,"contextmenu",vn),M(On,"scroll",function(){Se([]),An.fixedGutter&&(jn.style.left=On.scrollLeft+"px"),An.onScroll&&An.onScroll(wi)}),M(window,"resize",function(){Se(!0)}),M(Hn,"keyup",zn(ie)),M(Hn,"input",ve),M(Hn,"keydown",zn(ee)),M(Hn,"keypress",zn(ne)),M(Hn,"focus",re),M(Hn,"blur",oe),M(On,"dragenter",k),M(On,"dragover",k),M(On,"drop",zn(Z)),M(On,"paste",function(){be(),ve()}),M(Hn,"paste",ve),M(Hn,"cut",zn(function(){fe("")}));var ki;try{ki=Nn.activeElement==Hn}catch(Vn){}ki?setTimeout(re,20):oe();var wi=Dn.CodeMirror={getValue:j,setValue:zn(z),getSelection:me,replaceSelection:zn(fe),focus:function(){be(),re(),ve()},setOption:function(t,e){var n=An[t];An[t]=e,"mode"==t||"indentUnit"==t?Fe():"readOnly"==t&&e?(oe(),Hn.blur()):"theme"==t?$e():"lineWrapping"==t&&n!=e?zn(Ke)():"tabSize"==t&&zn(Xe)(),("lineNumbers"==t||"gutter"==t||"firstLineNumber"==t||"theme"==t)&&zn(Ge)()},getOption:function(t){return An[t]},undo:zn(se),redo:zn(ue),indentLine:zn(function(t,e){v(t)&&Ve(t,null==e?"smart":e?"add":"subtract")}),indentSelection:zn(qe),historySize:function(){return{undo:bi.done.length,redo:bi.undone.length}},clearHistory:function(){bi=new g},matchBrackets:zn(function(){xn(!0)}),getTokenAt:zn(function(t){return t=_e(t),b(t.line).getTokenAt(Gn,kn(t.line),t.ch)}),getStateAfter:function(t){return t=Oe(null==t?Jn.size-1:t),kn(t+1)},cursorCoords:function(t){return null==t&&(t=fi.inverted),hn(t?fi.from:fi.to)},charCoords:function(t){return hn(_e(t))},coordsChar:function(t){var e=A(Un);return cn(t.x-e.left,t.y-e.top)},markText:zn(Ze),setBookmark:Qe,setMarker:zn(tn),clearMarker:zn(en),setLineClass:zn(rn),hideLine:zn(function(t){return on(t,!0)}),showLine:zn(function(t){return on(t,!1)}),onDeleteLine:function(t,e){if("number"==typeof t){if(!v(t))return null;t=b(t)}return(t.handlers||(t.handlers=[])).push(e),t},lineInfo:ln,addWidget:function(t,e,n,i,r){t=un(_e(t));var o=t.yBot,l=t.x;if(e.style.position="absolute",_n.appendChild(e),"over"==i)o=t.y;else if("near"==i){var a=Math.max(On.offsetHeight,Jn.height*fn()),s=Math.max(_n.clientWidth,Un.clientWidth)-mn();t.yBot+e.offsetHeight>a&&t.y>e.offsetHeight&&(o=t.y-e.offsetHeight),l+e.offsetWidth>s&&(l=s-e.offsetWidth)}e.style.top=o+pn()+"px",e.style.left=e.style.right="","right"==r?(l=_n.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?l=0:"middle"==r&&(l=(_n.clientWidth-e.offsetWidth)/2),e.style.left=l+mn()+"px"),n&&Ce(l,o,l+e.offsetWidth,o+e.offsetHeight)},lineCount:function(){return Jn.size},clipPos:_e,getCursor:function(t){return null==t&&(t=fi.inverted),D(t?fi.from:fi.to)},somethingSelected:function(){return!E(fi.from,fi.to)},setCursor:zn(function(t,e,n){null==e&&"number"==typeof t.line?He(t.line,t.ch,n):He(t,e,n)}),setSelection:zn(function(t,e,n){(n?Ne:De)(_e(t),_e(e||t))}),getLine:function(t){return v(t)?b(t).text:void 0},getLineHandle:function(t){return v(t)?b(t):void 0},setLine:zn(function(t,e){v(t)&&he(e,{line:t,ch:0},{line:t,ch:b(t).text.length})}),removeLine:zn(function(t){v(t)&&he("",{line:t,ch:0},_e({line:t+1,ch:0}))}),replaceRange:zn(he),getRange:function(t,e){return pe(_e(t),_e(e))},execCommand:function(t){return B[t](wi)},moveH:zn(je),deleteH:zn(Pe),moveV:zn(Ue),toggleOverwrite:function(){di=!di},posFromIndex:function(t){var e,n=0;return Jn.iter(0,Jn.size,function(i){var r=i.text.length+1;return r>t?(e=t,!0):(t-=r,++n,void 0)}),_e({line:n,ch:e})},indexFromPos:function(t){if(0>t.line||0>t.ch)return 0;var e=t.ch;return Jn.iter(0,t.line,function(t){e+=t.text.length+1}),e},operation:function(t){return zn(t)()},refresh:function(){Se(!0)},getInputField:function(){return Hn},getWrapperElement:function(){return Dn},getScrollerElement:function(){return On},getGutterElement:function(){return jn}},Ci=null,Mi=!1,Si="",Ti=null;Je.prototype.clear=zn(function(){for(var t=1/0,e=-1/0,n=0,i=this.set.length;i>n;++n){var r=this.set[n],o=r.marked;if(o&&r.parent){var l=d(r);t=Math.min(t,l),e=Math.max(e,l);for(var a=0;o.length>a;++a)o[a].set==this.set&&o.splice(a--,1)}}1/0!=t&&ri.push({from:t,to:e+1})}),Je.prototype.find=function(){for(var t,e,n=0,i=this.set.length;i>n;++n)for(var r=this.set[n],o=r.marked,l=0;o.length>l;++l){var a=o[l];if(a.set==this.set&&(null!=a.from||null!=a.to)){var s=d(r);null!=s&&(null!=a.from&&(t={line:s,ch:a.from}),null!=a.to&&(e={line:s,ch:a.to}))}}return{from:t,to:e}};var zi,Ai,Li,Ei,Ni=Math.floor(16777215*Math.random()).toString(16),Di=0,Wi={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},Hi=0;for(var Oi in U)U.propertyIsEnumerable(Oi)&&!wi.propertyIsEnumerable(Oi)&&(wi[Oi]=U[Oi]);return wi}function e(t,e,n){function i(t,e,n){var r=e[t];if(null!=r)return r;if(null==n&&(n=e.fallthrough),null==n)return e.catchall;if("string"==typeof n)return i(t,R[n]);for(var o=0,l=n.length;l>o;++o)if(r=i(t,R[n[o]]),null!=r)return r;return null}return e?i(t,e,n):i(t,R[n])}function n(t){var e=J[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function i(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var i in e){var r=e[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function r(t,e,n){return t.startState?t.startState(e,n):!0}function o(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8}function l(t,e,n,i){this.from=t,this.to=e,this.style=n,this.set=i}function a(t){this.from=t,this.to=t,this.line=null}function s(t,e){this.styles=e||[t,null],this.text=t,this.height=1,this.marked=this.gutterMarker=this.className=this.handlers=null,this.stateAfter=this.parent=this.hidden=null}function u(t,e,n,i){for(var r=0,o=0,l=0;e>o;r+=2){var a=n[r],s=o+a.length;0==l?(s>t&&i.push(a.slice(t-o,Math.min(a.length,e-o)),n[r+1]),s>=t&&(l=1)):1==l&&(s>e?i.push(a.slice(0,e-o),n[r+1]):i.push(a,n[r+1])),o=s}}function c(t){this.lines=t,this.parent=null;for(var e=0,n=t.length,i=0;n>e;++e)t[e].parent=this,i+=t[e].height;this.height=i}function h(t){this.children=t;for(var e=0,n=0,i=0,r=t.length;r>i;++i){var o=t[i];e+=o.chunkSize(),n+=o.height,o.parent=this}this.size=e,this.height=n,this.parent=null}function f(t,e){for(;!t.lines;)for(var n=0;;++n){var i=t.children[n],r=i.chunkSize();if(r>e){t=i;break}e-=r}return t.lines[e]}function d(t){if(null==t.parent)return null;for(var e=t.parent,n=O(e.lines,t),i=e.parent;i;e=i,i=i.parent){var r=0;for(i.children.length;i.children[r]!=e;++r)n+=i.children[r].chunkSize()}return n}function p(t,e){var n=0;t:do{for(var i=0,r=t.children.length;r>i;++i){var o=t.children[i],l=o.height;if(l>e){t=o;continue t}e-=l,n+=o.chunkSize()}return n}while(!t.lines);for(var i=0,r=t.lines.length;r>i;++i){var a=t.lines[i],s=a.height;if(s>e)break;e-=s}return n+i}function m(t,e){var n=0;t:do{for(var i=0,r=t.children.length;r>i;++i){var o=t.children[i],l=o.chunkSize();if(l>e){t=o;continue t}e-=l,n+=o.height}return n}while(!t.lines);for(var i=0;e>i;++i)n+=t.lines[i].height;return n}function g(){this.time=0,this.done=[],this.undone=[]}function v(){k(this)}function y(t){return t.stop||(t.stop=v),t}function x(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function b(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function k(t){x(t),b(t)}function w(t){return t.target||t.srcElement
}function C(t){return t.which?t.which:1&t.button?1:2&t.button?3:4&t.button?2:void 0}function M(t,e,n,i){if("function"==typeof t.addEventListener){if(t.addEventListener(e,n,!1),i)return function(){t.removeEventListener(e,n,!1)}}else{var r=function(t){n(t||window.event)};if(t.attachEvent("on"+e,r),i)return function(){t.detachEvent("on"+e,r)}}}function S(){this.id=null}function T(t,e,n){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var i=0,r=0;e>i;++i)"	"==t.charAt(i)?r+=n-r%n:++r;return r}function z(t){return t.currentStyle?t.currentStyle:window.getComputedStyle(t,null)}function A(t,e){for(var n=t.ownerDocument.body,i=0,r=0,o=!1,l=t;l;l=l.offsetParent){var a=l.offsetLeft,s=l.offsetTop;l==n?(i+=Math.abs(a),r+=Math.abs(s)):(i+=a,r+=s),e&&"fixed"==z(l).position&&(o=!0)}for(var u=e&&!o?null:n,l=t.parentNode;l!=u;l=l.parentNode)null!=l.scrollLeft&&(i-=l.scrollLeft,r-=l.scrollTop);return{left:i,top:r}}function L(t){return t.textContent||t.innerText||t.nodeValue||""}function E(t,e){return t.line==e.line&&t.ch==e.ch}function N(t,e){return t.line<e.line||t.line==e.line&&t.ch<e.ch}function D(t){return{line:t.line,ch:t.ch}}function W(t){return Y.textContent=t,Y.innerHTML}function H(t,e){if(!e)return t?t.length:0;if(!t)return e.length;for(var n=t.length,i=e.length;n>=0&&i>=0&&t.charAt(n)==e.charAt(i);--n,--i);return i+1}function O(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;i>n;++n)if(t[n]==e)return n;return-1}function _(t){return/\w/.test(t)||t.toUpperCase()!=t.toLowerCase()}t.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,onKeyEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,document:window.document};var I=/Mac/.test(navigator.platform),j=(/Win/.test(navigator.platform),{}),P={};t.defineMode=function(e,n){!t.defaults.mode&&"null"!=e&&(t.defaults.mode=e),j[e]=n},t.defineMIME=function(t,e){P[t]=e},t.getMode=function(e,n){if("string"==typeof n&&P.hasOwnProperty(n)&&(n=P[n]),"string"==typeof n)var i=n,r={};else if(null!=n)var i=n.name,r=n;var o=j[i];return o?o(e,r||{}):(window.console&&console.warn("No mode "+i+" found, falling back to plain text."),t.getMode(e,"text/plain"))},t.listModes=function(){var t=[];for(var e in j)j.propertyIsEnumerable(e)&&t.push(e);return t},t.listMIMEs=function(){var t=[];for(var e in P)P.propertyIsEnumerable(e)&&t.push({mime:e,mode:P[e]});return t};var U=t.extensions={};t.defineExtension=function(t,e){U[t]=e};var B=t.commands={selectAll:function(t){t.setSelection({line:0,ch:0},{line:t.lineCount()-1})},killLine:function(t){var e=t.getCursor(!0),n=t.getCursor(!1),i=!E(e,n);i||t.getLine(e.line).length!=e.ch?t.replaceRange("",e,i?n:{line:e.line}):t.replaceRange("",e,{line:e.line+1,ch:0})},deleteLine:function(t){var e=t.getCursor().line;t.replaceRange("",{line:e,ch:0},{line:e})},undo:function(t){t.undo()},redo:function(t){t.redo()},goDocStart:function(t){t.setCursor(0,0,!0)},goDocEnd:function(t){t.setSelection({line:t.lineCount()-1},null,!0)},goLineStart:function(t){t.setCursor(t.getCursor().line,0,!0)},goLineStartSmart:function(t){var e=t.getCursor(),n=t.getLine(e.line),i=Math.max(0,n.search(/\S/));t.setCursor(e.line,i>=e.ch&&e.ch?0:i,!0)},goLineEnd:function(t){t.setSelection({line:t.getCursor().line},null,!0)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goWordRight:function(t){t.moveH(1,"word")},delCharLeft:function(t){t.deleteH(-1,"char")},delCharRight:function(t){t.deleteH(1,"char")},delWordLeft:function(t){t.deleteH(-1,"word")},delWordRight:function(t){t.deleteH(1,"word")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("	","end")},transposeChars:function(t){var e=t.getCursor(),n=t.getLine(e.line);e.ch>0&&e.ch<n.length-1&&t.replaceRange(n.charAt(e.ch)+n.charAt(e.ch-1),{line:e.line,ch:e.ch-1},{line:e.line,ch:e.ch+1})},newlineAndIndent:function(t){t.replaceSelection("\n","end"),t.indentLine(t.getCursor().line)},toggleOverwrite:function(t){t.toggleOverwrite()}},R=t.keyMap={};R.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"indentMore","Shift-Tab":"indentLess",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},R.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",fallthrough:"basic"},R.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",fallthrough:["basic","emacsy"]},R["default"]=I?R.macDefault:R.pcDefault,R.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},t.fromTextArea=function(e,n){function i(){e.value=a.getValue()}function r(){i(),e.form.submit=l,e.form.submit(),e.form.submit=r}if(n||(n={}),n.value=e.value,!n.tabindex&&e.tabindex&&(n.tabindex=e.tabindex),e.form){var o=M(e.form,"submit",i,!0);if("function"==typeof e.form.submit){var l=e.form.submit;e.form.submit=r}}e.style.display="none";var a=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},n);return a.save=i,a.getTextArea=function(){return e},a.toTextArea=function(){i(),e.parentNode.removeChild(a.getWrapperElement()),e.style.display="",e.form&&(o(),"function"==typeof e.form.submit&&(e.form.submit=l))},a},t.copyState=i,t.startState=r,o.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else var n=e&&(t.test?t.test(e):t(e));return n?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return T(this.string,this.start,this.tabSize)},indentation:function(){return T(this.string,null,this.tabSize)},match:function(t,e,n){function i(t){return n?t.toLowerCase():t}if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&e!==!1&&(this.pos+=r[0].length),r}return i(this.string).indexOf(i(t),this.pos)==this.pos?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},t.StringStream=o,l.prototype={attach:function(t){this.set.push(t)},detach:function(t){var e=O(this.set,t);e>-1&&this.set.splice(e,1)},split:function(t,e){if(t>=this.to&&null!=this.to)return null;var n=t>this.from||null==this.from?null:this.from-t+e,i=null==this.to?null:this.to-t+e;return new l(n,i,this.style,this.set)},dup:function(){return new l(null,null,this.style,this.set)},clipTo:function(t,e,n,i,r){null!=this.from&&this.from>=e&&(this.from=Math.max(i,this.from)+r),null!=this.to&&this.to>e&&(this.to=this.to>i?this.to+r:e),t&&i>this.from&&(this.to>i||null==this.to)&&(this.from=null),n&&(this.to>e||null==this.to)&&(e>this.from||null==this.from)&&(this.to=null)},isDead:function(){return null!=this.from&&null!=this.to&&this.from>=this.to},sameSet:function(t){return this.set==t.set}},a.prototype={attach:function(t){this.line=t},detach:function(t){this.line==t&&(this.line=null)},split:function(t,e){return this.from>t?(this.from=this.to=this.from-t+e,this):void 0},isDead:function(){return this.from>this.to},clipTo:function(t,e,n,i,r){(t||this.from>e)&&(n||i>this.to)?(this.from=0,this.to=-1):this.from>e&&(this.from=this.to=Math.max(i,this.from)+r)},sameSet:function(){return!1},find:function(){return this.line&&this.line.parent?{line:d(this.line),ch:this.from}:null},clear:function(){if(this.line){var t=O(this.line.marked,this);-1!=t&&this.line.marked.splice(t,1),this.line=null}}},s.inheritMarks=function(t,e){var n=new s(t),i=e&&e.marked;if(i)for(var r=0;i.length>r;++r)if(null==i[r].to&&i[r].style){var o=n.marked||(n.marked=[]),l=i[r],a=l.dup();o.push(a),a.attach(n)}return n},s.prototype={replace:function(t,e,n){var i=[],r=this.marked,o=null==e?this.text.length:e;if(u(0,t,this.styles,i),n&&i.push(n,null),u(o,this.text.length,this.styles,i),this.styles=i,this.text=this.text.slice(0,t)+n+this.text.slice(o),this.stateAfter=null,r)for(var l=n.length-(o-t),a=0,s=r[a];r.length>a;++a)s.clipTo(null==t,t||0,null==e,o,l),s.isDead()&&(s.detach(this),r.splice(a--,1))},split:function(t,e){var n=[e,null],i=this.marked;u(t,this.text.length,this.styles,n);var r=new s(e+this.text.slice(t),n);if(i)for(var o=0;i.length>o;++o){var l=i[o],a=l.split(t,e.length);a&&(r.marked||(r.marked=[]),r.marked.push(a),a.attach(r))}return r},append:function(t){var e=this.text.length,n=t.marked,i=this.marked;if(this.text+=t.text,u(0,t.text.length,t.styles,this.styles),i)for(var r=0;i.length>r;++r)null==i[r].to&&(i[r].to=e);if(n&&n.length){i||(this.marked=i=[]);t:for(var r=0;n.length>r;++r){var o=n[r];if(!o.from)for(var l=0;i.length>l;++l){var a=i[l];if(a.to==e&&a.sameSet(o)){a.to=null==o.to?null:o.to+e,a.isDead()&&(a.detach(this),n.splice(r--,1));continue t}}i.push(o),o.attach(this),o.from+=e,null!=o.to&&(o.to+=e)}}},fixMarkEnds:function(t){var e=this.marked,n=t.marked;if(e)for(var i=0;e.length>i;++i){var r=e[i],o=null==r.to;if(o&&n)for(var l=0;n.length>l;++l)if(n[l].sameSet(r)){o=!1;break}o&&(r.to=this.text.length)}},fixMarkStarts:function(){var t=this.marked;if(t)for(var e=0;t.length>e;++e)null==t[e].from&&(t[e].from=0)},addMark:function(t){t.attach(this),null==this.marked&&(this.marked=[]),this.marked.push(t),this.marked.sort(function(t,e){return(t.from||0)-(e.from||0)})},highlight:function(t,e,n){var i,r=new o(this.text,n),l=this.styles,a=0,s=!1,u=l[0];for(""==this.text&&t.blankLine&&t.blankLine(e);!r.eol();){var c=t.token(r,e),h=this.text.slice(r.start,r.pos);if(r.start=r.pos,a&&l[a-1]==c?l[a-2]+=h:h&&(!s&&(l[a+1]!=c||a&&l[a-2]!=i)&&(s=!0),l[a++]=h,l[a++]=c,i=u,u=l[a]),r.pos>5e3){l[a++]=this.text.slice(r.pos),l[a++]=null;break}}return l.length!=a&&(l.length=a,s=!0),a&&l[a-2]!=i&&(s=!0),s||(5>l.length&&10>this.text.length?null:!1)},getTokenAt:function(t,e,n){for(var i=this.text,r=new o(i);n>r.pos&&!r.eol();){r.start=r.pos;var l=t.token(r,e)}return{start:r.start,end:r.pos,string:r.current(),className:l||null,state:e}},indentation:function(t){return T(this.text,null,t)},getHTML:function(t,e,n,i,r){function o(t,e){t&&(s&&F&&" "==t.charAt(0)&&(t=" "+t.slice(1)),s=!1,e?a.push('<span class="',e,'">',W(t).replace(/\t/g,i),"</span>"):a.push(W(t).replace(/\t/g,i)))}function l(){h&&(v+=1,y=h.length>v?h[v]:null)}var a=[],s=!0;n&&a.push(this.className?'<pre class="'+this.className+'">':"<pre>");var u=this.styles,c=this.text,h=this.marked;t==e&&(t=null);var f=c.length;if(null!=r&&(f=Math.min(r,f)),c||null!=r)if(h||null!=t){var d,p=0,m=0,g="",v=-1,y=null;for(l();f>p;){var x=f,b="";for(null!=t&&(t>p?x=t:(null==e||e>p)&&(b=" CodeMirror-selected",null!=e&&(x=Math.min(x,e))));y&&null!=y.to&&p>=y.to;)l();for(y&&(y.from>p?x=Math.min(x,y.from):(b+=" "+y.style,null!=y.to&&(x=Math.min(x,y.to))));;){var k=p+g.length,w=d;if(b&&(w=d?d+b:b),o(k>x?g.slice(0,x-p):g,w),k>=x){g=g.slice(x-p),p=x;break}p=k,g=u[m++],d="cm-"+u[m++]}}null!=t&&null==e&&o(" ","CodeMirror-selected")}else for(var m=0,C=0;f>C;m+=2){var M=u[m],d=u[m+1],S=M.length;C+S>f&&(M=M.slice(0,f-C)),C+=S,o(M,d&&"cm-"+d)}else o(" ",null!=t&&null==e?"CodeMirror-selected":null);return n&&a.push("</pre>"),a.join("")},cleanUp:function(){if(this.parent=null,this.marked)for(var t=0,e=this.marked.length;e>t;++t)this.marked[t].detach(this)}},c.prototype={chunkSize:function(){return this.lines.length},remove:function(t,e,n){for(var i=t,r=t+e;r>i;++i){var o=this.lines[i];if(this.height-=o.height,o.cleanUp(),o.handlers)for(var l=0;o.handlers.length>l;++l)n.push(o.handlers[l])}this.lines.splice(t,e)},collapse:function(t){t.splice.apply(t,[t.length,0].concat(this.lines))},insertHeight:function(t,e,n){this.height+=n,this.lines.splice.apply(this.lines,[t,0].concat(e));for(var i=0,r=e.length;r>i;++i)e[i].parent=this},iterN:function(t,e,n){for(var i=t+e;i>t;++t)if(n(this.lines[t]))return!0}},h.prototype={chunkSize:function(){return this.size},remove:function(t,e,n){this.size-=e;for(var i=0;this.children.length>i;++i){var r=this.children[i],o=r.chunkSize();if(o>t){var l=Math.min(e,o-t),a=r.height;if(r.remove(t,l,n),this.height-=a-r.height,o==l&&(this.children.splice(i--,1),r.parent=null),0==(e-=l))break;t=0}else t-=o}if(25>this.size-e){var s=[];this.collapse(s),this.children=[new c(s)]}},collapse:function(t){for(var e=0,n=this.children.length;n>e;++e)this.children[e].collapse(t)},insert:function(t,e){for(var n=0,i=0,r=e.length;r>i;++i)n+=e[i].height;this.insertHeight(t,e,n)},insertHeight:function(t,e,n){this.size+=e.length,this.height+=n;for(var i=0,r=this.children.length;r>i;++i){var o=this.children[i],l=o.chunkSize();if(l>=t){if(o.insertHeight(t,e,n),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var a=o.lines.splice(o.lines.length-25,25),s=new c(a);o.height-=s.height,this.children.splice(i+1,0,s),s.parent=this}this.maybeSpill()}break}t-=l}},maybeSpill:function(){if(!(10>=this.children.length)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new h(e);if(t.parent){t.size-=n.size,t.height-=n.height;var i=O(t.parent.children,t);t.parent.children.splice(i+1,0,n)}else{var r=new h(t.children);r.parent=t,t.children=[r,n],t=r}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iter:function(t,e,n){this.iterN(t,e-t,n)},iterN:function(t,e,n){for(var i=0,r=this.children.length;r>i;++i){var o=this.children[i],l=o.chunkSize();if(l>t){var a=Math.min(e,l-t);if(o.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=l}}},g.prototype={addChange:function(t,e,n){this.undone.length=0;var i=+new Date,r=this.done[this.done.length-1];if(i-this.time>400||!r||r.start>t+e||r.start+r.added<t-r.added+r.old.length)this.done.push({start:t,added:e,old:n});else{var o=0;if(r.start>t){for(var l=r.start-t-1;l>=0;--l)r.old.unshift(n[l]);r.added+=r.start-t,r.start=t}else t>r.start&&(o=t-r.start,e+=o);for(var l=r.added-o,a=n.length;a>l;++l)r.old.push(n[l]);e>r.added&&(r.added=e)}this.time=i}},t.e_stop=k,t.e_preventDefault=x,t.e_stopPropagation=b,t.connect=M,S.prototype={set:function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)}};var q=function(){if(/MSIE [1-8]\b/.test(navigator.userAgent))return!1;var t=document.createElement("div");return"draggable"in t}(),V=/gecko\/\d{7}/i.test(navigator.userAgent),F=/MSIE \d/.test(navigator.userAgent),G=/WebKit\//.test(navigator.userAgent),K="\n";(function(){var t=document.createElement("textarea");t.value="foo\nbar",t.value.indexOf("\r")>-1&&(K="\r\n")})(),null!=document.documentElement.getBoundingClientRect&&(A=function(t,e){try{var n=t.getBoundingClientRect();n={top:n.top,left:n.left}}catch(i){n={top:0,left:0}}if(!e)if(null==window.pageYOffset){var r=document.documentElement||document.body.parentNode;null==r.scrollTop&&(r=document.body),n.top+=r.scrollTop,n.left+=r.scrollLeft}else n.top+=window.pageYOffset,n.left+=window.pageXOffset;return n});var Y=document.createElement("pre");"\na"==W("a")?W=function(t){return Y.textContent=t,Y.innerHTML.slice(1)}:"	"!=W("	")&&(W=function(t){return Y.innerHTML="",Y.appendChild(document.createTextNode(t)),Y.innerHTML}),t.htmlEscape=W;var X=3!="\n\nb".split(/\n/).length?function(t){for(var e,n=0,i=[];(e=t.indexOf("\n",n))>-1;)i.push(t.slice(n,"\r"==t.charAt(e-1)?e-1:e)),n=e+1;return i.push(t.slice(n)),i}:function(t){return t.split(/\r?\n/)};t.splitLines=X;var $=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return e&&e.parentElement()==t?0!=e.compareEndPoints("StartToEnd",e):!1};t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var J={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};return t.keyNames=J,function(){for(var t=0;10>t;t++)J[t+48]=t+"";for(var t=65;90>=t;t++)J[t]=String.fromCharCode(t);for(var t=1;12>=t;t++)J[t+111]=J[t+63235]="F"+t}(),t}();n.defineMode("css",function(t){function e(t,e){return l=e,t}function n(t,n){var l=t.next();return"@"==l?(t.eatWhile(/[\w\\\-]/),e("meta",t.current())):"/"==l&&t.eat("*")?(n.tokenize=i,i(t,n)):"<"==l&&t.eat("!")?(n.tokenize=r,r(t,n)):"="!=l?"~"!=l&&"|"!=l||!t.eat("=")?'"'==l||"'"==l?(n.tokenize=o(l),n.tokenize(t,n)):"#"==l?(t.eatWhile(/[\w\\\-]/),e("atom","hash")):"!"==l?(t.match(/^\s*\w*/),e("keyword","important")):/\d/.test(l)?(t.eatWhile(/[\w.%]/),e("number","unit")):/[,.+>*\/]/.test(l)?e(null,"select-op"):/[;{}:\[\]]/.test(l)?e(null,l):(t.eatWhile(/[\w\\\-]/),e("variable","variable")):e(null,"compare"):(e(null,"compare"),void 0)}function i(t,i){for(var r,o=!1;null!=(r=t.next());){if(o&&"/"==r){i.tokenize=n;break}o="*"==r}return e("comment","comment")}function r(t,i){for(var r,o=0;null!=(r=t.next());){if(o>=2&&">"==r){i.tokenize=n;break}o="-"==r?o+1:0}return e("comment","comment")}function o(t){return function(i,r){for(var o,l=!1;null!=(o=i.next())&&(o!=t||l);)l=!l&&"\\"==o;return l||(r.tokenize=n),e("string","string")}}var l,a=t.indentUnit;return{startState:function(t){return{tokenize:n,baseIndent:t||0,stack:[]}},token:function(t,e){if(t.eatSpace())return null;var n=e.tokenize(t,e),i=e.stack[e.stack.length-1];return"hash"==l&&"rule"==i?n="atom":"variable"==n&&("rule"==i?n="number":i&&"@media{"!=i||(n="tag")),"rule"==i&&/^[\{\};]$/.test(l)&&e.stack.pop(),"{"==l?"@media"==i?e.stack[e.stack.length-1]="@media{":e.stack.push("{"):"}"==l?e.stack.pop():"@media"==l?e.stack.push("@media"):"{"==i&&"comment"!=l&&e.stack.push("rule"),n},indent:function(t,e){var n=t.stack.length;return/^\}/.test(e)&&(n-="rule"==t.stack[t.stack.length-1]?2:1),t.baseIndent+n*a},electricChars:"}"}}),n.defineMIME("text/css","css"),n.defineMode("htmlmixed",function(t){function e(t,e){var n=l.token(t,e.htmlState);return"tag"==n&&">"==t.current()&&e.htmlState.context&&(/^script$/i.test(e.htmlState.context.tagName)?(e.token=r,e.localState=a.startState(l.indent(e.htmlState,"")),e.mode="javascript"):/^style$/i.test(e.htmlState.context.tagName)&&(e.token=o,e.localState=s.startState(l.indent(e.htmlState,"")),e.mode="css")),n}function i(t,e,n){var i=t.current(),r=i.search(e);return r>-1&&t.backUp(i.length-r),n}function r(t,n){return t.match(/^<\/\s*script\s*>/i,!1)?(n.token=e,n.curState=null,n.mode="html",e(t,n)):i(t,/<\/\s*script\s*>/,a.token(t,n.localState))}function o(t,n){return t.match(/^<\/\s*style\s*>/i,!1)?(n.token=e,n.localState=null,n.mode="html",e(t,n)):i(t,/<\/\s*style\s*>/,s.token(t,n.localState))}var l=n.getMode(t,{name:"xml",htmlMode:!0}),a=n.getMode(t,"javascript"),s=n.getMode(t,"css");return{startState:function(){var t=l.startState();return{token:e,localState:null,mode:"html",htmlState:t}},copyState:function(t){if(t.localState)var e=n.copyState(t.token==o?s:a,t.localState);return{token:t.token,localState:e,mode:t.mode,htmlState:n.copyState(l,t.htmlState)}},token:function(t,e){return e.token(t,e)},indent:function(t,n){return t.token==e||/^\s*<\//.test(n)?l.indent(t.htmlState,n):t.token==r?a.indent(t.localState,n):s.indent(t.localState,n)},compareStates:function(t,e){return l.compareStates(t.htmlState,e.htmlState)},electricChars:"/{}:"}}),n.defineMIME("text/html","htmlmixed"),n.defineMode("javascript",function(t,e){function n(t,e,n){return e.tokenize=n,n(t,e)}function i(t,e){for(var n,i=!1;null!=(n=t.next());){if(n==e&&!i)return!1;i=!i&&"\\"==n}return i}function r(t,e,n){return _=t,I=n,e}function o(t,e){var o=t.next();if('"'==o||"'"==o)return n(t,e,l(o));if(/[\[\]{}\(\),;\:\.]/.test(o))return r(o);if("0"==o&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),r("number","number");if(/\d/.test(o))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),r("number","number");if("/"==o)return t.eat("*")?n(t,e,a):t.eat("/")?(t.skipToEnd(),r("comment","comment")):e.reAllowed?(i(t,"/"),t.eatWhile(/[gimy]/),r("regexp","string")):(t.eatWhile(B),r("operator",null,t.current()));if("#"==o)return t.skipToEnd(),r("error","error");if(B.test(o))return t.eatWhile(B),r("operator",null,t.current());t.eatWhile(/[\w\$_]/);var s=t.current(),u=U.propertyIsEnumerable(s)&&U[s];return u&&e.kwAllowed?r(u.type,u.style,s):r("variable","variable",s)}function l(t){return function(e,n){return i(e,t)||(n.tokenize=o),r("string","string")}}function a(t,e){for(var n,i=!1;n=t.next();){if("/"==n&&i){e.tokenize=o;break}i="*"==n}return r("comment","comment")}function s(t,e,n,i,r,o){this.indented=t,this.column=e,this.type=n,this.prev=r,this.info=o,null!=i&&(this.align=i)}function u(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0}function c(t,e,n,i,r){var o=t.cc;for(q.state=t,q.stream=r,q.marked=null,q.cc=o,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var l=o.length?o.pop():P?b:x;if(l(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return q.marked?q.marked:"variable"==n&&u(t,i)?"variable-2":e}}}function h(){for(var t=arguments.length-1;t>=0;t--)q.cc.push(arguments[t])}function f(){return h.apply(null,arguments),!0}function d(t){var e=q.state;if(e.context){q.marked="def";for(var n=e.localVars;n;n=n.next)if(n.name==t)return;e.localVars={name:t,next:e.localVars}}}function p(){q.state.context||(q.state.localVars=V),q.state.context={prev:q.state.context,vars:q.state.localVars}}function m(){q.state.localVars=q.state.context.vars,q.state.context=q.state.context.prev}function g(t,e){var n=function(){var n=q.state;n.lexical=new s(n.indented,q.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function v(){var t=q.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function y(t){return function(e){return e==t?f():";"==t?h():f(arguments.callee)}}function x(t){return"var"==t?f(g("vardef"),A,y(";"),v):"keyword a"==t?f(g("form"),b,x,v):"keyword b"==t?f(g("form"),x,v):"{"==t?f(g("}"),z,v):";"==t?f():"function"==t?f(H):"for"==t?f(g("form"),y("("),g(")"),E,y(")"),v,x,v):"variable"==t?f(g("stat"),C):"switch"==t?f(g("form"),b,g("}","switch"),y("{"),z,v,v):"case"==t?f(b,y(":")):"default"==t?f(y(":")):"catch"==t?f(g("form"),p,y("("),O,y(")"),x,v,m):h(g("stat"),b,y(";"),v)}function b(t){return R.hasOwnProperty(t)?f(w):"function"==t?f(H):"keyword c"==t?f(k):"("==t?f(g(")"),b,y(")"),v,w):"operator"==t?f(b):"["==t?f(g("]"),T(b,"]"),v,w):"{"==t?f(g("}"),T(S,"}"),v,w):f()}function k(t){return t.match(/[;\}\)\],]/)?h():h(b)}function w(t,e){if("operator"==t&&/\+\+|--/.test(e))return f(w);if("operator"==t)return f(b);if(";"!=t)return"("==t?f(g(")"),T(b,")"),v,w):"."==t?f(M,w):"["==t?f(g("]"),b,y("]"),v,w):void 0}function C(t){return":"==t?f(v,x):h(w,y(";"),v)}function M(t){return"variable"==t?(q.marked="property",f()):void 0}function S(t){return"variable"==t&&(q.marked="property"),R.hasOwnProperty(t)?f(y(":"),b):void 0}function T(t,e){function n(i){return","==i?f(t,n):i==e?f():f(y(e))}return function(i){return i==e?f():h(t,n)}}function z(t){return"}"==t?f():h(x,z)}function A(t,e){return"variable"==t?(d(e),f(L)):f()}function L(t,e){return"="==e?f(b,L):","==t?f(A):void 0}function E(t){return"var"==t?f(A,D):";"==t?h(D):"variable"==t?f(N):h(D)}function N(t,e){return"in"==e?f(b):f(w,D)}function D(t,e){return";"==t?f(W):"in"==e?f(b):f(b,y(";"),W)}function W(t){")"!=t&&f(b)}function H(t,e){return"variable"==t?(d(e),f(H)):"("==t?f(g(")"),p,T(O,")"),v,x,m):void 0}function O(t,e){return"variable"==t?(d(e),f()):void 0}var _,I,j=t.indentUnit,P=e.json,U=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),i=t("keyword c"),r=t("operator"),o={type:"atom",style:"atom"};return{"if":e,"while":e,"with":e,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":i,"delete":i,"throw":i,"var":t("var"),"const":t("var"),let:t("var"),"function":t("function"),"catch":t("catch"),"for":t("for"),"switch":t("switch"),"case":t("case"),"default":t("default"),"in":r,"typeof":r,"instanceof":r,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o}}(),B=/[+\-*&%=<>!?|]/,R={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},q={state:null,column:null,marked:null,cc:null},V={name:"this",next:{name:"arguments"}};return v.lex=!0,{startState:function(t){return{tokenize:o,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new s((t||0)-j,0,"block",!1),localVars:null,context:null,indented:0}},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation()),t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==_?n:(e.reAllowed="operator"==_||"keyword c"==_||_.match(/^[\[{}\(,;:]$/),e.kwAllowed="."!=_,c(e,n,_,I,t))},indent:function(t,e){if(t.tokenize!=o)return 0;var n=e&&e.charAt(0),i=t.lexical,r=i.type,l=n==r;return"vardef"==r?i.indented+4:"form"==r&&"{"==n?i.indented:"stat"==r||"form"==r?i.indented+j:"switch"!=i.info||l?i.align?i.column+(l?0:1):i.indented+(l?0:j):i.indented+(/^(?:case|default)\b/.test(e)?j:2*j)},electricChars:":{}"}}),n.defineMIME("text/javascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMode("xml",function(t,e){function n(t,e){function n(n){return e.tokenize=n,n(t,e)}var r=t.next();if("<"==r){if(t.eat("!"))return t.eat("[")?t.match("CDATA[")?n(o("atom","]]>")):null:t.match("--")?n(o("comment","-->")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),n(l(1))):null;if(t.eat("?"))return t.eatWhile(/[\w\._\-]/),e.tokenize=o("meta","?>"),"meta";y=t.eat("/")?"closeTag":"openTag",t.eatSpace(),v="";for(var a;a=t.eat(/[^\s\u00a0=<>\"\'\/?]/);)v+=a;return e.tokenize=i,"tag"}return"&"==r?(t.eatWhile(/[^;]/),t.eat(";"),"atom"):(t.eatWhile(/[^&<]/),null)}function i(t,e){var i=t.next();return">"==i||"/"==i&&t.eat(">")?(e.tokenize=n,y=">"==i?"endTag":"selfcloseTag","tag"):"="==i?(y="equals",null):/[\'\"]/.test(i)?(e.tokenize=r(i),e.tokenize(t,e)):(t.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function r(t){return function(e,n){for(;!e.eol();)if(e.next()==t){n.tokenize=i;break}return"string"}}function o(t,e){return function(i,r){for(;!i.eol();){if(i.match(e)){r.tokenize=n;break}i.next()}return t}}function l(t){return function(e,i){for(var r;null!=(r=e.next());){if("<"==r)return i.tokenize=l(t+1),i.tokenize(e,i);if(">"==r){if(1==t){i.tokenize=n;break}return i.tokenize=l(t-1),i.tokenize(e,i)}}return"meta"}}function a(){for(var t=arguments.length-1;t>=0;t--)x.cc.push(arguments[t])}function s(){return a.apply(null,arguments),!0}function u(t,e){var n=w.doNotIndent.hasOwnProperty(t)||x.context&&x.context.noIndent;x.context={prev:x.context,tagName:t,indent:x.indented,startOfLine:e,noIndent:n}}function c(){x.context&&(x.context=x.context.prev)}function h(t){if("openTag"==t)return x.tagName=v,s(p,f(x.startOfLine));if("closeTag"==t){var e=!1;return e=x.context?x.context.tagName!=v:!0,e&&(b="error"),s(d(e))}return s()}function f(t){return function(e){return"selfcloseTag"==e||"endTag"==e&&w.autoSelfClosers.hasOwnProperty(x.tagName.toLowerCase())?s():"endTag"==e?(u(x.tagName,t),s()):s()}}function d(t){return function(e){return t&&(b="error"),"endTag"==e?(c(),s()):(b="error",s(arguments.callee))}}function p(t){return"word"==t?(b="attribute",s(p)):"equals"==t?s(m,p):"string"==t?(b="error",s(p)):a()}function m(t){return"word"==t&&w.allowUnquoted?(b="string",s()):"string"==t?s(g):a()}function g(t){return"string"==t?s(g):a()}var v,y,x,b,k=t.indentUnit,w=e.htmlMode?{autoSelfClosers:{br:!0,img:!0,hr:!0,link:!0,input:!0,meta:!0,col:!0,frame:!0,base:!0,area:!0},doNotIndent:{pre:!0},allowUnquoted:!0}:{autoSelfClosers:{},doNotIndent:{},allowUnquoted:!1},C=e.alignCDATA;return{startState:function(){return{tokenize:n,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(t,e){if(t.sol()&&(e.startOfLine=!0,e.indented=t.indentation()),t.eatSpace())return null;b=y=v=null;var n=e.tokenize(t,e);if(e.type=y,(n||y)&&"comment"!=n)for(x=e;;){var i=e.cc.pop()||h;if(i(y||n))break}return e.startOfLine=!1,b||n},indent:function(t,e,r){var o=t.context;if(t.tokenize!=i&&t.tokenize!=n||o&&o.noIndent)return r?r.match(/^(\s*)/)[0].length:0;if(C&&/<!\[CDATA\[/.test(e))return 0;for(o&&/^<\//.test(e)&&(o=o.prev);o&&!o.startOfLine;)o=o.prev;return o?o.indent+k:0},compareStates:function(t,e){if(t.indented!=e.indented||t.tokenize!=e.tokenize)return!1;for(var n=t.context,i=e.context;;n=n.prev,i=i.prev){if(!n||!i)return n==i;if(n.tagName!=i.tagName)return!1}},electricChars:"/"}}),n.defineMIME("application/xml","xml"),n.defineMIME("text/html",{name:"xml",htmlMode:!0})}});